{% extends "layout.html" %}
{% block page %}
    <div class=admin-list>
        {% for tag in tags %}
        <details>
            <summary class="admin-list-item details-dialog-summary-special">{{tag.name}}</summary>
            <details-dialog>
                <form action="tags?U={{session.uuid}}" method=POST>
                <input name=name value="{{tag.name}}" type=hidden>
                <label>Description <input name=description value="{% if tag.description.is_some() %}{{tag.description.as_ref().unwrap()}}{% endif %}" autofocus></label>
                <div class=form-footer>
                    <button class=button-default>Save</button>
                    <a href="" onclick="return !window.DetailsDialogElement" class=button data-close-dialog>Cancel</a>
                </div>
                </form>
            </details-dialog>
        </details>
        {% endfor %}
    </div>
    <details-menu-bar>
        <details class=details-dialog-outer>
            <summary class=details-dialog-summary>+ New tag</summary>
            <details-dialog>
                <form action="tags?U={{session.uuid}}" method=POST>
                <label>Name <input name=name required autofocus></label>
                <label>Description <input name=description></label>
                <div class=form-footer>
                    <button class=button-default>Save</button>
                    <a href="" onclick="return !window.DetailsDialogElement" class=button data-close-dialog>Cancel</a>
                </div>
                </form>
            </details-dialog>
        </details>
    </details-menu-bar>
{% endblock %}
